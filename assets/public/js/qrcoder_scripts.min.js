_aa={_ab:function(d,a){for(var f=qrcode.width,e=qrcode.height,h=!0,l=0;l<a.Length&&h;l+=2){var k=Math.floor(a[l]),m=Math.floor(a[l+1]);if(-1>k||k>f||-1>m||m>e)throw"Error._ab ";h=!1;-1==k?(a[l]=0,h=!0):k==f&&(a[l]=f-1,h=!0);-1==m?(a[l+1]=0,h=!0):m==e&&(a[l+1]=e-1,h=!0)}h=!0;for(l=a.Length-2;0<=l&&h;l-=2){k=Math.floor(a[l]);m=Math.floor(a[l+1]);if(-1>k||k>f||-1>m||m>e)throw"Error._ab ";h=!1;-1==k?(a[l]=0,h=!0):k==f&&(a[l]=f-1,h=!0);-1==m?(a[l+1]=0,h=!0):m==e&&(a[l+1]=e-1,h=!0)}},_af:function(d,a,f){for(var e=
new _ac(a),h=Array(a<<1),l=0;l<a;l++){for(var k=h.length,m=l+.5,n=0;n<k;n+=2)h[n]=(n>>1)+.5,h[n+1]=m;f._ad(h);_aa._ab(d,h);try{for(n=0;n<k;n+=2){var q=4*Math.floor(h[n])+Math.floor(h[n+1])*qrcode.width*4,w=d[Math.floor(h[n])+qrcode.width*Math.floor(h[n+1])];qrcode.imagedata.data[q]=w?255:0;qrcode.imagedata.data[q+1]=w?255:0;qrcode.imagedata.data[q+2]=0;qrcode.imagedata.data[q+3]=255;w&&e._dq(n>>1,l)}}catch(t){throw"Error._ab";}}return e},_ah:function(d,a,f,e,h,l,k,m,n,q,w,t,z,y,u,x,E,F){f=_ae._ag(f,
e,h,l,k,m,n,q,w,t,z,y,u,x,E,F);return _aa._af(d,a,f)}};function _a1(d,a){this.count=d;this._fc=a;this.__defineGetter__("Count",function(){return this.count});this.__defineGetter__("_dm",function(){return this._fc})}
function _a2(d,a,f){this._bm=d;this._do=f?[a,f]:Array(a);this.__defineGetter__("_bo",function(){return this._bm});this.__defineGetter__("_dn",function(){return this._bm*this._fo});this.__defineGetter__("_fo",function(){for(var e=0,h=0;h<this._do.length;h++)e+=this._do[h].length;return e});this._fb=function(){return this._do}}
function _a3(d,a,f,e,h,l){this._bs=d;this._ar=a;this._do=[f,e,h,l];d=0;a=f._bo;f=f._fb();for(e=0;e<f.length;e++)h=f[e],d+=h.Count*(h._dm+a);this._br=d;this.__defineGetter__("_fd",function(){return this._bs});this.__defineGetter__("_as",function(){return this._ar});this.__defineGetter__("_dp",function(){return this._br});this.__defineGetter__("_cr",function(){return 17+4*this._bs});this._aq=function(){var h=this._cr,e=new _ac(h);e._bq(0,0,9,9);e._bq(h-8,0,8,9);e._bq(0,h-8,9,8);for(var f=this._ar.length,
a=0;a<f;a++)for(var d=this._ar[a]-2,l=0;l<f;l++)0==a&&(0==l||l==f-1)||a==f-1&&0==l||e._bq(this._ar[l]-2,d,5,5);e._bq(6,9,1,h-17);e._bq(9,6,h-17,1);6<this._bs&&(e._bq(h-11,0,3,6),e._bq(0,h-11,6,3));return e};this._bu=function(e){return this._do[e.ordinal()]}}_a3._bv=[31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017];
_a3.VERSIONS=_ay();_a3._av=function(d){if(1>d||40<d)throw"bad arguments";return _a3.VERSIONS[d-1]};_a3._at=function(d){if(1!=d%4)throw"Error _at";try{return _a3._av(d-17>>2)}catch(a){throw"Error _av";}};_a3._aw=function(d){for(var a=4294967295,f=0,e=0;e<_a3._bv.length;e++){var h=_a3._bv[e];if(h==d)return this._av(e+7);h=_ax._gj(d,h);h<a&&(f=e+7,a=h)}return 3>=a?this._av(f):null};
function _ay(){return[new _a3(1,[],new _a2(7,new _a1(1,19)),new _a2(10,new _a1(1,16)),new _a2(13,new _a1(1,13)),new _a2(17,new _a1(1,9))),new _a3(2,[6,18],new _a2(10,new _a1(1,34)),new _a2(16,new _a1(1,28)),new _a2(22,new _a1(1,22)),new _a2(28,new _a1(1,16))),new _a3(3,[6,22],new _a2(15,new _a1(1,55)),new _a2(26,new _a1(1,44)),new _a2(18,new _a1(2,17)),new _a2(22,new _a1(2,13))),new _a3(4,[6,26],new _a2(20,new _a1(1,80)),new _a2(18,new _a1(2,32)),new _a2(26,new _a1(2,24)),new _a2(16,new _a1(4,9))),
new _a3(5,[6,30],new _a2(26,new _a1(1,108)),new _a2(24,new _a1(2,43)),new _a2(18,new _a1(2,15),new _a1(2,16)),new _a2(22,new _a1(2,11),new _a1(2,12))),new _a3(6,[6,34],new _a2(18,new _a1(2,68)),new _a2(16,new _a1(4,27)),new _a2(24,new _a1(4,19)),new _a2(28,new _a1(4,15))),new _a3(7,[6,22,38],new _a2(20,new _a1(2,78)),new _a2(18,new _a1(4,31)),new _a2(18,new _a1(2,14),new _a1(4,15)),new _a2(26,new _a1(4,13),new _a1(1,14))),new _a3(8,[6,24,42],new _a2(24,new _a1(2,97)),new _a2(22,new _a1(2,38),new _a1(2,
39)),new _a2(22,new _a1(4,18),new _a1(2,19)),new _a2(26,new _a1(4,14),new _a1(2,15))),new _a3(9,[6,26,46],new _a2(30,new _a1(2,116)),new _a2(22,new _a1(3,36),new _a1(2,37)),new _a2(20,new _a1(4,16),new _a1(4,17)),new _a2(24,new _a1(4,12),new _a1(4,13))),new _a3(10,[6,28,50],new _a2(18,new _a1(2,68),new _a1(2,69)),new _a2(26,new _a1(4,43),new _a1(1,44)),new _a2(24,new _a1(6,19),new _a1(2,20)),new _a2(28,new _a1(6,15),new _a1(2,16))),new _a3(11,[6,30,54],new _a2(20,new _a1(4,81)),new _a2(30,new _a1(1,
50),new _a1(4,51)),new _a2(28,new _a1(4,22),new _a1(4,23)),new _a2(24,new _a1(3,12),new _a1(8,13))),new _a3(12,[6,32,58],new _a2(24,new _a1(2,92),new _a1(2,93)),new _a2(22,new _a1(6,36),new _a1(2,37)),new _a2(26,new _a1(4,20),new _a1(6,21)),new _a2(28,new _a1(7,14),new _a1(4,15))),new _a3(13,[6,34,62],new _a2(26,new _a1(4,107)),new _a2(22,new _a1(8,37),new _a1(1,38)),new _a2(24,new _a1(8,20),new _a1(4,21)),new _a2(22,new _a1(12,11),new _a1(4,12))),new _a3(14,[6,26,46,66],new _a2(30,new _a1(3,115),
new _a1(1,116)),new _a2(24,new _a1(4,40),new _a1(5,41)),new _a2(20,new _a1(11,16),new _a1(5,17)),new _a2(24,new _a1(11,12),new _a1(5,13))),new _a3(15,[6,26,48,70],new _a2(22,new _a1(5,87),new _a1(1,88)),new _a2(24,new _a1(5,41),new _a1(5,42)),new _a2(30,new _a1(5,24),new _a1(7,25)),new _a2(24,new _a1(11,12),new _a1(7,13))),new _a3(16,[6,26,50,74],new _a2(24,new _a1(5,98),new _a1(1,99)),new _a2(28,new _a1(7,45),new _a1(3,46)),new _a2(24,new _a1(15,19),new _a1(2,20)),new _a2(30,new _a1(3,15),new _a1(13,
16))),new _a3(17,[6,30,54,78],new _a2(28,new _a1(1,107),new _a1(5,108)),new _a2(28,new _a1(10,46),new _a1(1,47)),new _a2(28,new _a1(1,22),new _a1(15,23)),new _a2(28,new _a1(2,14),new _a1(17,15))),new _a3(18,[6,30,56,82],new _a2(30,new _a1(5,120),new _a1(1,121)),new _a2(26,new _a1(9,43),new _a1(4,44)),new _a2(28,new _a1(17,22),new _a1(1,23)),new _a2(28,new _a1(2,14),new _a1(19,15))),new _a3(19,[6,30,58,86],new _a2(28,new _a1(3,113),new _a1(4,114)),new _a2(26,new _a1(3,44),new _a1(11,45)),new _a2(26,
new _a1(17,21),new _a1(4,22)),new _a2(26,new _a1(9,13),new _a1(16,14))),new _a3(20,[6,34,62,90],new _a2(28,new _a1(3,107),new _a1(5,108)),new _a2(26,new _a1(3,41),new _a1(13,42)),new _a2(30,new _a1(15,24),new _a1(5,25)),new _a2(28,new _a1(15,15),new _a1(10,16))),new _a3(21,[6,28,50,72,94],new _a2(28,new _a1(4,116),new _a1(4,117)),new _a2(26,new _a1(17,42)),new _a2(28,new _a1(17,22),new _a1(6,23)),new _a2(30,new _a1(19,16),new _a1(6,17))),new _a3(22,[6,26,50,74,98],new _a2(28,new _a1(2,111),new _a1(7,
112)),new _a2(28,new _a1(17,46)),new _a2(30,new _a1(7,24),new _a1(16,25)),new _a2(24,new _a1(34,13))),new _a3(23,[6,30,54,74,102],new _a2(30,new _a1(4,121),new _a1(5,122)),new _a2(28,new _a1(4,47),new _a1(14,48)),new _a2(30,new _a1(11,24),new _a1(14,25)),new _a2(30,new _a1(16,15),new _a1(14,16))),new _a3(24,[6,28,54,80,106],new _a2(30,new _a1(6,117),new _a1(4,118)),new _a2(28,new _a1(6,45),new _a1(14,46)),new _a2(30,new _a1(11,24),new _a1(16,25)),new _a2(30,new _a1(30,16),new _a1(2,17))),new _a3(25,
[6,32,58,84,110],new _a2(26,new _a1(8,106),new _a1(4,107)),new _a2(28,new _a1(8,47),new _a1(13,48)),new _a2(30,new _a1(7,24),new _a1(22,25)),new _a2(30,new _a1(22,15),new _a1(13,16))),new _a3(26,[6,30,58,86,114],new _a2(28,new _a1(10,114),new _a1(2,115)),new _a2(28,new _a1(19,46),new _a1(4,47)),new _a2(28,new _a1(28,22),new _a1(6,23)),new _a2(30,new _a1(33,16),new _a1(4,17))),new _a3(27,[6,34,62,90,118],new _a2(30,new _a1(8,122),new _a1(4,123)),new _a2(28,new _a1(22,45),new _a1(3,46)),new _a2(30,
new _a1(8,23),new _a1(26,24)),new _a2(30,new _a1(12,15),new _a1(28,16))),new _a3(28,[6,26,50,74,98,122],new _a2(30,new _a1(3,117),new _a1(10,118)),new _a2(28,new _a1(3,45),new _a1(23,46)),new _a2(30,new _a1(4,24),new _a1(31,25)),new _a2(30,new _a1(11,15),new _a1(31,16))),new _a3(29,[6,30,54,78,102,126],new _a2(30,new _a1(7,116),new _a1(7,117)),new _a2(28,new _a1(21,45),new _a1(7,46)),new _a2(30,new _a1(1,23),new _a1(37,24)),new _a2(30,new _a1(19,15),new _a1(26,16))),new _a3(30,[6,26,52,78,104,130],
new _a2(30,new _a1(5,115),new _a1(10,116)),new _a2(28,new _a1(19,47),new _a1(10,48)),new _a2(30,new _a1(15,24),new _a1(25,25)),new _a2(30,new _a1(23,15),new _a1(25,16))),new _a3(31,[6,30,56,82,108,134],new _a2(30,new _a1(13,115),new _a1(3,116)),new _a2(28,new _a1(2,46),new _a1(29,47)),new _a2(30,new _a1(42,24),new _a1(1,25)),new _a2(30,new _a1(23,15),new _a1(28,16))),new _a3(32,[6,34,60,86,112,138],new _a2(30,new _a1(17,115)),new _a2(28,new _a1(10,46),new _a1(23,47)),new _a2(30,new _a1(10,24),new _a1(35,
25)),new _a2(30,new _a1(19,15),new _a1(35,16))),new _a3(33,[6,30,58,86,114,142],new _a2(30,new _a1(17,115),new _a1(1,116)),new _a2(28,new _a1(14,46),new _a1(21,47)),new _a2(30,new _a1(29,24),new _a1(19,25)),new _a2(30,new _a1(11,15),new _a1(46,16))),new _a3(34,[6,34,62,90,118,146],new _a2(30,new _a1(13,115),new _a1(6,116)),new _a2(28,new _a1(14,46),new _a1(23,47)),new _a2(30,new _a1(44,24),new _a1(7,25)),new _a2(30,new _a1(59,16),new _a1(1,17))),new _a3(35,[6,30,54,78,102,126,150],new _a2(30,new _a1(12,
121),new _a1(7,122)),new _a2(28,new _a1(12,47),new _a1(26,48)),new _a2(30,new _a1(39,24),new _a1(14,25)),new _a2(30,new _a1(22,15),new _a1(41,16))),new _a3(36,[6,24,50,76,102,128,154],new _a2(30,new _a1(6,121),new _a1(14,122)),new _a2(28,new _a1(6,47),new _a1(34,48)),new _a2(30,new _a1(46,24),new _a1(10,25)),new _a2(30,new _a1(2,15),new _a1(64,16))),new _a3(37,[6,28,54,80,106,132,158],new _a2(30,new _a1(17,122),new _a1(4,123)),new _a2(28,new _a1(29,46),new _a1(14,47)),new _a2(30,new _a1(49,24),new _a1(10,
25)),new _a2(30,new _a1(24,15),new _a1(46,16))),new _a3(38,[6,32,58,84,110,136,162],new _a2(30,new _a1(4,122),new _a1(18,123)),new _a2(28,new _a1(13,46),new _a1(32,47)),new _a2(30,new _a1(48,24),new _a1(14,25)),new _a2(30,new _a1(42,15),new _a1(32,16))),new _a3(39,[6,26,54,82,110,138,166],new _a2(30,new _a1(20,117),new _a1(4,118)),new _a2(28,new _a1(40,47),new _a1(7,48)),new _a2(30,new _a1(43,24),new _a1(22,25)),new _a2(30,new _a1(10,15),new _a1(67,16))),new _a3(40,[6,30,58,86,114,142,170],new _a2(30,
new _a1(19,118),new _a1(6,119)),new _a2(28,new _a1(18,47),new _a1(31,48)),new _a2(30,new _a1(34,24),new _a1(34,25)),new _a2(30,new _a1(20,15),new _a1(61,16)))]}
function _ae(d,a,f,e,h,l,k,m,n){this.a11=d;this.a12=e;this.a13=k;this.a21=a;this.a22=h;this.a23=m;this.a31=f;this.a32=l;this.a33=n;this._ad=function(e){for(var h=e.length,f=this.a11,a=this.a12,d=this.a13,l=this.a21,k=this.a22,m=this.a23,n=this.a31,G=this.a32,I=this.a33,A=0;A<h;A+=2){var B=e[A],C=e[A+1],D=d*B+m*C+I;e[A]=(f*B+l*C+n)/D;e[A+1]=(a*B+k*C+G)/D}};this._fp=function(e,h){for(var f=e.length,a=0;a<f;a++){var d=e[a],l=h[a],k=this.a13*d+this.a23*l+this.a33;e[a]=(this.a11*d+this.a21*l+this.a31)/
k;h[a]=(this.a12*d+this.a22*l+this.a32)/k}};this._fr=function(){return new _ae(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)};this.times=function(e){return new _ae(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+
this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}_ae._ag=function(d,a,f,e,h,l,k,m,n,q,w,t,z,y,u,x){d=this._be(d,a,f,e,h,l,k,m);return this._bf(n,q,w,t,z,y,u,x).times(d)};
_ae._bf=function(d,a,f,e,h,l,k,m){dy2=m-l;dy3=a-e+l-m;if(0==dy2&&0==dy3)return new _ae(f-d,h-f,d,e-a,l-e,a,0,0,1);dx1=f-h;dx2=k-h;dx3=d-f+h-k;dy1=e-l;_dr=dx1*dy2-dx2*dy1;a13=(dx3*dy2-dx2*dy3)/_dr;a23=(dx1*dy3-dx3*dy1)/_dr;return new _ae(f-d+a13*f,k-d+a23*k,d,e-a+a13*e,m-a+a23*m,a,a13,a23,1)};_ae._be=function(d,a,f,e,h,l,k,m){return this._bf(d,a,f,e,h,l,k,m)._fr()};function _bg(d,a){this.bits=d;this.points=a}
function Detector(d){this.image=d;this._am=null;this._bi=function(a,f,e,h){var d=Math.abs(h-f)>Math.abs(e-a);if(d){var k=a;a=f;f=k;k=e;e=h;h=k}for(var m=Math.abs(e-a),n=Math.abs(h-f),q=-m>>1,w=f<h?1:-1,t=a<e?1:-1,z=0,y=a,k=f;y!=e;y+=t){var u=d?k:y,x=d?y:k;1==z?this.image[u+x*qrcode.width]&&z++:this.image[u+x*qrcode.width]||z++;if(3==z)return h=y-a,f=k-f,Math.sqrt(h*h+f*f);q+=n;if(0<q){if(k==h)break;k+=w;q-=m}}a=e-a;f=h-f;return Math.sqrt(a*a+f*f)};this._bh=function(a,f,e,h){var d=this._bi(a,f,e,h),
k=1;e=a-(e-a);0>e?(k=a/(a-e),e=0):e>=qrcode.width&&(k=(qrcode.width-1-a)/(e-a),e=qrcode.width-1);h=Math.floor(f-(h-f)*k);k=1;0>h?(k=f/(f-h),h=0):h>=qrcode.height&&(k=(qrcode.height-1-f)/(h-f),h=qrcode.height-1);e=Math.floor(a+(e-a)*k);d+=this._bi(a,f,e,h);return d-1};this._bj=function(a,f){var e=this._bh(Math.floor(a.X),Math.floor(a.Y),Math.floor(f.X),Math.floor(f.Y)),h=this._bh(Math.floor(f.X),Math.floor(f.Y),Math.floor(a.X),Math.floor(a.Y));return isNaN(e)?h/7:isNaN(h)?e/7:(e+h)/14};this._bk=function(a,
f,e){return(this._bj(a,f)+this._bj(a,e))/2};this.distance=function(a,f){xDiff=a.X-f.X;yDiff=a.Y-f.Y;return Math.sqrt(xDiff*xDiff+yDiff*yDiff)};this._bx=function(a,f,e,h){f=Math.round(this.distance(a,f)/h);a=Math.round(this.distance(a,e)/h);a=(f+a>>1)+7;switch(a&3){case 0:a++;break;case 2:a--;break;case 3:throw"Error";}return a};this._bl=function(a,f,e,h){h=Math.floor(h*a);var d=Math.max(0,f-h);f=Math.min(qrcode.width-1,f+h);if(f-d<3*a)throw"Error";var k=Math.max(0,e-h);return(new _ak(this.image,d,
k,f-d,Math.min(qrcode.height-1,e+h)-k,a,this._am)).find()};this.createTransform=function(a,f,e,h,d){d-=3.5;var k,m,n;null!=h?(k=h.X,h=h.Y,m=n=d-3):(k=f.X-a.X+e.X,h=f.Y-a.Y+e.Y,m=n=d);return _ae._ag(3.5,3.5,d,3.5,m,n,3.5,d,a.X,a.Y,f.X,f.Y,k,h,e.X,e.Y)};this._bz=function(a,f,e){return _aa._af(a,e,f)};this._cd=function(a){var f=a._gq,e=a._gs;a=a._gp;var h=this._bk(f,e,a);if(1>h)throw"Error";var d=this._bx(f,e,a,h),k=_a3._at(d),m=k._cr-7,n=null;if(0<k._as.length)for(k=1-3/m,n=Math.floor(f.X+k*(e.X-f.X+
a.X-f.X)),k=Math.floor(f.Y+k*(e.Y-f.Y+a.Y-f.Y));;){n=this._bl(h,n,k,4);break}h=this.createTransform(f,e,a,n,d);d=this._bz(this.image,h,d);return new _bg(d,null==n?[a,f,e]:[a,f,e,n])};this.detect=function(){var a=(new _cc)._ce(this.image);return this._cd(a)}}
var _ca=21522,_cb=[[21522,0],[20773,1],[24188,2],[23371,3],[17913,4],[16590,5],[20375,6],[19104,7],[30660,8],[29427,9],[32170,10],[30877,11],[26159,12],[25368,13],[27713,14],[26998,15],[5769,16],[5054,17],[7399,18],[6608,19],[1890,20],[597,21],[3340,22],[2107,23],[13663,24],[12392,25],[16177,26],[14854,27],[9396,28],[8579,29],[11994,30],[11245,31]],_ch=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];
function _ax(d){this._cf=_cg.forBits(d>>3&3);this._fe=d&7;this.__defineGetter__("_cg",function(){return this._cf});this.__defineGetter__("_dx",function(){return this._fe});this.GetHashCode=function(){return this._cf.ordinal()<<3|_fe};this.Equals=function(a){return this._cf==a._cf&&this._fe==a._fe}}_ax._gj=function(d,a){d^=a;return _ch[d&15]+_ch[_ew(d,4)&15]+_ch[_ew(d,8)&15]+_ch[_ew(d,12)&15]+_ch[_ew(d,16)&15]+_ch[_ew(d,20)&15]+_ch[_ew(d,24)&15]+_ch[_ew(d,28)&15]};
_ax._ci=function(d){var a=_ax._cj(d);return null!=a?a:_ax._cj(d^_ca)};_ax._cj=function(d){for(var a=4294967295,f=0,e=0;e<_cb.length;e++){var h=_cb[e],l=h[0];if(l==d)return new _ax(h[1]);l=this._gj(d,l);l<a&&(f=h[1],a=l)}return 3>=a?new _ax(f):null};function _cg(d,a,f){this._ff=d;this.bits=a;this.name=f;this.__defineGetter__("Bits",function(){return this.bits});this.__defineGetter__("Name",function(){return this.name});this.ordinal=function(){return this._ff}}
_cg.forBits=function(d){if(0>d||d>=FOR_BITS.Length)throw"bad arguments";return FOR_BITS[d]};var L=new _cg(0,1,"L"),M=new _cg(1,0,"M"),Q=new _cg(2,3,"Q"),H=new _cg(3,2,"H"),FOR_BITS=[M,L,H,Q];
function _ac(d,a){a||(a=d);if(1>d||1>a)throw"Both dimensions must be greater than 0";this.width=d;this.height=a;var f=d>>5;0!=(d&31)&&f++;this.rowSize=f;this.bits=Array(f*a);for(f=0;f<this.bits.length;f++)this.bits[f]=0;this.__defineGetter__("Width",function(){return this.width});this.__defineGetter__("Height",function(){return this.height});this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width});this._ds=
function(e,h){return 0!=(_ew(this.bits[h*this.rowSize+(e>>5)],e&31)&1)};this._dq=function(e,h){this.bits[h*this.rowSize+(e>>5)]|=1<<(e&31)};this.flip=function(e,h){this.bits[h*this.rowSize+(e>>5)]^=1<<(e&31)};this.clear=function(){for(var e=this.bits.length,h=0;h<e;h++)this.bits[h]=0};this._bq=function(e,h,a,f){if(0>h||0>e)throw"Left and top must be nonnegative";if(1>f||1>a)throw"Height and width must be at least 1";a=e+a;f=h+f;if(f>this.height||a>this.width)throw"The region must fit inside the matrix";
for(;h<f;h++)for(var d=h*this.rowSize,n=e;n<a;n++)this.bits[d+(n>>5)]|=1<<(n&31)}}function _dl(d,a){this._dv=d;this._dw=a;this.__defineGetter__("_du",function(){return this._dv});this.__defineGetter__("Codewords",function(){return this._dw})}
_dl._gn=function(d,a,f){if(d.length!=a._dp)throw"bad arguments";var e=a._bu(f);f=0;var h=e._fb();for(a=0;a<h.length;a++)f+=h[a].Count;f=Array(f);for(var l=0,k=0;k<h.length;k++){var m=h[k];for(a=0;a<m.Count;a++){var n=m._dm,q=e._bo+n;f[l++]=new _dl(n,Array(q))}}a=f[0]._dw.length;for(h=f.length-1;0<=h&&f[h]._dw.length!=a;)h--;h++;e=a-e._bo;for(a=m=0;a<e;a++)for(k=0;k<l;k++)f[k]._dw[a]=d[m++];for(k=h;k<l;k++)f[k]._dw[e]=d[m++];n=f[0]._dw.length;for(a=e;a<n;a++)for(k=0;k<l;k++)f[k]._dw[k<h?a:a+1]=d[m++];
return f};
function _cl(d){var a=d.Dimension;if(21>a||1!=(a&3))throw"Error _cl";this._au=d;this._co=this._cp=null;this._dk=function(a,e,h){return this._au._ds(a,e)?h<<1|1:h<<1};this._cm=function(){if(null!=this._co)return this._co;for(var a=0,e=0;6>e;e++)a=this._dk(e,8,a);a=this._dk(7,8,a);a=this._dk(8,8,a);a=this._dk(8,7,a);for(e=5;0<=e;e--)a=this._dk(8,e,a);this._co=_ax._ci(a);if(null!=this._co)return this._co;for(var h=this._au.Dimension,a=0,d=h-8,e=h-1;e>=d;e--)a=this._dk(e,8,a);for(e=h-7;e<h;e++)a=this._dk(8,
e,a);this._co=_ax._ci(a);if(null!=this._co)return this._co;throw"Error _cm";};this._cq=function(){if(null!=this._cp)return this._cp;var a=this._au.Dimension,e=a-17>>2;if(6>=e)return _a3._av(e);for(var e=0,h=a-11,d=5;0<=d;d--)for(var k=a-9;k>=h;k--)e=this._dk(k,d,e);this._cp=_a3._aw(e);if(null!=this._cp&&this._cp._cr==a)return this._cp;e=0;for(k=5;0<=k;k--)for(d=a-9;d>=h;d--)e=this._dk(k,d,e);this._cp=_a3._aw(e);if(null!=this._cp&&this._cp._cr==a)return this._cp;throw"Error _cq";};this._gk=function(){var a=
this._cm(),e=this._cq(),h=_dx._gl(a._dx),a=this._au.Dimension;h._dj(this._au,a);for(var h=e._aq(),d=!0,k=Array(e._dp),m=0,n=0,q=0,w=a-1;0<w;w-=2){6==w&&w--;for(var t=0;t<a;t++)for(var z=d?a-1-t:t,y=0;2>y;y++)h._ds(w-y,z)||(q++,n<<=1,this._au._ds(w-y,z)&&(n|=1),8==q&&(k[m++]=n,n=q=0));d^=1}if(m!=e._dp)throw"Error _gk";return k}}_dx={_gl:function(d){if(0>d||7<d)throw"bad arguments";return _dx._dy[d]}};
function _fg(){this._dj=function(d,a){for(var f=0;f<a;f++)for(var e=0;e<a;e++)this._fw(f,e)&&d.flip(e,f)};this._fw=function(d,a){return 0==(d+a&1)}}function _fh(){this._dj=function(d,a){for(var f=0;f<a;f++)for(var e=0;e<a;e++)this._fw(f,e)&&d.flip(e,f)};this._fw=function(d,a){return 0==(d&1)}}function _fi(){this._dj=function(d,a){for(var f=0;f<a;f++)for(var e=0;e<a;e++)this._fw(f,e)&&d.flip(e,f)};this._fw=function(d,a){return 0==a%3}}
function _fj(){this._dj=function(d,a){for(var f=0;f<a;f++)for(var e=0;e<a;e++)this._fw(f,e)&&d.flip(e,f)};this._fw=function(d,a){return 0==(d+a)%3}}function _fk(){this._dj=function(d,a){for(var f=0;f<a;f++)for(var e=0;e<a;e++)this._fw(f,e)&&d.flip(e,f)};this._fw=function(d,a){return 0==(_ew(d,1)+a/3&1)}}function _fl(){this._dj=function(d,a){for(var f=0;f<a;f++)for(var e=0;e<a;e++)this._fw(f,e)&&d.flip(e,f)};this._fw=function(d,a){var f=d*a;return 0==(f&1)+f%3}}
function _fm(){this._dj=function(d,a){for(var f=0;f<a;f++)for(var e=0;e<a;e++)this._fw(f,e)&&d.flip(e,f)};this._fw=function(d,a){var f=d*a;return 0==((f&1)+f%3&1)}}function _fn(){this._dj=function(d,a){for(var f=0;f<a;f++)for(var e=0;e<a;e++)this._fw(f,e)&&d.flip(e,f)};this._fw=function(d,a){return 0==((d+a&1)+d*a%3&1)}}_dx._dy=[new _fg,new _fh,new _fi,new _fj,new _fk,new _fl,new _fm,new _fn];
function _db(d){this._fa=d;this.decode=function(a,d){for(var e=new _bp(this._fa,a),h=Array(d),l=0;l<h.length;l++)h[l]=0;for(var k=!0,l=0;l<d;l++){var m=e.evaluateAt(this._fa.exp(l));h[h.length-1-l]=m;0!=m&&(k=!1)}if(!k)for(l=new _bp(this._fa,h),e=this._eb(this._fa._ba(d,1),l,d),l=e[1],e=this._ey(e[0]),h=this._di(l,e,!1),l=0;l<e.length;l++){k=a.length-1-this._fa.log(e[l]);if(0>k)throw"ReedSolomonException Bad error location";a[k]=_az._bd(a[k],h[l])}};this._eb=function(a,d,e){if(a._ec<d._ec){var h=
a;a=d;d=h}for(var h=this._fa.One,l=this._fa.Zero,k=this._fa.Zero,m=this._fa.One;d._ec>=Math.floor(e/2);){var n=a,q=h,w=k;a=d;h=l;k=m;if(a.Zero)throw"r_{i-1} was zero";d=n;m=this._fa.Zero;l=a._ex(a._ec);for(l=this._fa.inverse(l);d._ec>=a._ec&&!d.Zero;){var n=d._ec-a._ec,t=this._fa.multiply(d._ex(d._ec),l),m=m._bd(this._fa._ba(n,t));d=d._bd(a._dc(n,t))}l=m.multiply1(h)._bd(q);m=m.multiply1(k)._bd(w)}e=m._ex(0);if(0==e)throw"ReedSolomonException sigmaTilde(0) was zero";e=this._fa.inverse(e);a=m.multiply2(e);
e=d.multiply2(e);return[a,e]};this._ey=function(a){var d=a._ec;if(1==d)return Array(a._ex(1));for(var e=Array(d),h=0,l=1;256>l&&h<d;l++)0==a.evaluateAt(l)&&(e[h]=this._fa.inverse(l),h++);if(h!=d)throw"Error locator degree does not match number of roots";return e};this._di=function(a,d,e){for(var h=d.length,l=Array(h),k=0;k<h;k++){for(var m=this._fa.inverse(d[k]),n=1,q=0;q<h;q++)k!=q&&(n=this._fa.multiply(n,_az._bd(1,this._fa.multiply(d[q],m))));l[k]=this._fa.multiply(a.evaluateAt(m),this._fa.inverse(n));
e&&(l[k]=this._fa.multiply(l[k],m))}return l}}
function _bp(d,a){if(null==a||0==a.length)throw"bad arguments";this._fa=d;var f=a.length;if(1<f&&0==a[0]){for(var e=1;e<f&&0==a[e];)e++;if(e==f)this._dd=d.Zero._dd;else{this._dd=Array(f-e);for(f=0;f<this._dd.length;f++)this._dd[f]=0;for(f=0;f<this._dd.length;f++)this._dd[f]=a[e+f]}}else this._dd=a;this.__defineGetter__("Zero",function(){return 0==this._dd[0]});this.__defineGetter__("_ec",function(){return this._dd.length-1});this.__defineGetter__("Coefficients",function(){return this._dd});this._ex=
function(e){return this._dd[this._dd.length-1-e]};this.evaluateAt=function(e){if(0==e)return this._ex(0);var a=this._dd.length;if(1==e){for(var d=e=0;d<a;d++)e=_az._bd(e,this._dd[d]);return e}for(var f=this._dd[0],d=1;d<a;d++)f=_az._bd(this._fa.multiply(e,f),this._dd[d]);return f};this._bd=function(e){if(this._fa!=e._fa)throw"GF256Polys do not have same _az _fa";if(this.Zero)return e;if(e.Zero)return this;var a=this._dd;e=e._dd;if(a.length>e.length){var f=a,a=e;e=f}for(var f=Array(e.length),m=e.length-
a.length,n=0;n<m;n++)f[n]=e[n];for(n=m;n<e.length;n++)f[n]=_az._bd(a[n-m],e[n]);return new _bp(d,f)};this.multiply1=function(e){if(this._fa!=e._fa)throw"GF256Polys do not have same _az _fa";if(this.Zero||e.Zero)return this._fa.Zero;var a=this._dd,d=a.length;e=e._dd;for(var f=e.length,n=Array(d+f-1),q=0;q<d;q++)for(var w=a[q],t=0;t<f;t++)n[q+t]=_az._bd(n[q+t],this._fa.multiply(w,e[t]));return new _bp(this._fa,n)};this.multiply2=function(e){if(0==e)return this._fa.Zero;if(1==e)return this;for(var a=
this._dd.length,d=Array(a),f=0;f<a;f++)d[f]=this._fa.multiply(this._dd[f],e);return new _bp(this._fa,d)};this._dc=function(e,a){if(0>e)throw"bad arguments";if(0==a)return this._fa.Zero;for(var d=this._dd.length,f=Array(d+e),n=0;n<f.length;n++)f[n]=0;for(n=0;n<d;n++)f[n]=this._fa.multiply(this._dd[n],a);return new _bp(this._fa,f)};this.divide=function(e){if(this._fa!=e._fa)throw"GF256Polys do not have same _az _fa";if(e.Zero)throw"Divide by 0";for(var a=this._fa.Zero,d=this,f=e._ex(e._ec),f=this._fa.inverse(f);d._ec>=
e._ec&&!d.Zero;)var n=d._ec-e._ec,q=this._fa.multiply(d._ex(d._ec),f),w=e._dc(n,q),n=this._fa._ba(n,q),a=a._bd(n),d=d._bd(w);return[a,d]}}
function _az(d){this._gh=Array(256);this._gi=Array(256);for(var a=1,f=0;256>f;f++)this._gh[f]=a,a<<=1,256<=a&&(a^=d);for(f=0;255>f;f++)this._gi[this._gh[f]]=f;d=Array(1);d[0]=0;this.zero=new _bp(this,Array(d));d=Array(1);d[0]=1;this.one=new _bp(this,Array(d));this.__defineGetter__("Zero",function(){return this.zero});this.__defineGetter__("One",function(){return this.one});this._ba=function(e,a){if(0>e)throw"bad arguments";if(0==a)return zero;for(var d=Array(e+1),f=0;f<d.length;f++)d[f]=0;d[0]=a;
return new _bp(this,d)};this.exp=function(e){return this._gh[e]};this.log=function(e){if(0==e)throw"bad arguments";return this._gi[e]};this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this._gh[255-this._gi[e]]};this.multiply=function(e,a){return 0==e||0==a?0:1==e?a:1==a?e:this._gh[(this._gi[e]+this._gi[a])%255]}}_az._bb=new _az(285);_az._bc=new _az(301);_az._bd=function(d,a){return d^a};Decoder={};Decoder.rsDecoder=new _db(_az._bb);
Decoder.correctErrors=function(d,a){for(var f=d.length,e=Array(f),h=0;h<f;h++)e[h]=d[h]&255;f=d.length-a;try{Decoder.rsDecoder.decode(e,f)}catch(l){throw l;}for(h=0;h<a;h++)d[h]=e[h]};Decoder.decode=function(d){var a=new _cl(d);d=a._cq();for(var f=a._cm()._cg,a=a._gk(),a=_dl._gn(a,d,f),e=0,h=0;h<a.Length;h++)e+=a[h]._du;for(var e=Array(e),l=0,k=0;k<a.length;k++){var h=a[k],m=h.Codewords,n=h._du;Decoder.correctErrors(m,n);for(h=0;h<n;h++)e[l++]=m[h]}return new QRCodeDataBlockReader(e,d._fd,f.Bits)};
qrcode={imagedata:null,width:0,height:0,qrCodeSymbol:null,debug:!1,_eo:[[10,9,8,8],[12,11,16,10],[14,13,16,12]],callback:null,decode:function(d){if(0==arguments.length){var a=document.getElementById("qr-canvas"),f=a.getContext("2d");qrcode.width=a.width;qrcode.height=a.height;qrcode.imagedata=f.getImageData(0,0,qrcode.width,qrcode.height);qrcode.result=qrcode.process(f);null!=qrcode.callback&&qrcode.callback(qrcode.result);return qrcode.result}var e=new Image;e.onload=function(){var a=document.createElement("canvas"),
d=a.getContext("2d"),f=document.getElementById("out-canvas");null!=f&&(f=f.getContext("2d"),f.clearRect(0,0,320,240),f.drawImage(e,0,0,320,240));a.width=e.width;a.height=e.height;d.drawImage(e,0,0);qrcode.width=e.width;qrcode.height=e.height;try{qrcode.imagedata=d.getImageData(0,0,e.width,e.height)}catch(m){qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!";null!=qrcode.callback&&qrcode.callback(qrcode.result);return}try{qrcode.result=
qrcode.process(d)}catch(m){console.log(m),qrcode.result="error decoding QR Code"}null!=qrcode.callback&&qrcode.callback(qrcode.result)};e.src=d},decode_utf8:function(d){return decodeURIComponent(escape(d))},process:function(d){var a=(new Date).getTime(),f=qrcode.grayScaleToBitmap(qrcode.grayscale());if(qrcode.debug){for(var e=0;e<qrcode.height;e++)for(var h=0;h<qrcode.width;h++){var l=4*h+e*qrcode.width*4;qrcode.imagedata.data[l]=0;qrcode.imagedata.data[l+1]=0;qrcode.imagedata.data[l+2]=f[h+e*qrcode.width]?
255:0}d.putImageData(qrcode.imagedata,0,0)}f=(new Detector(f)).detect();qrcode.debug&&d.putImageData(qrcode.imagedata,0,0);f=Decoder.decode(f.bits).DataByte;d="";for(e=0;e<f.length;e++)for(h=0;h<f[e].length;h++)d+=String.fromCharCode(f[e][h]);a=(new Date).getTime()-a;console.log(a);return qrcode.decode_utf8(d)},getPixel:function(d,a){if(qrcode.width<d)throw"point error";if(qrcode.height<a)throw"point error";point=4*d+a*qrcode.width*4;return p=(33*qrcode.imagedata.data[point]+34*qrcode.imagedata.data[point+
1]+33*qrcode.imagedata.data[point+2])/100},binarize:function(d){for(var a=Array(qrcode.width*qrcode.height),f=0;f<qrcode.height;f++)for(var e=0;e<qrcode.width;e++){var h=qrcode.getPixel(e,f);a[e+f*qrcode.width]=h<=d?!0:!1}return a},_em:function(d){for(var a=Math.floor(qrcode.width/4),f=Math.floor(qrcode.height/4),e=Array(4),h=0;4>h;h++){e[h]=Array(4);for(var l=0;4>l;l++)e[h][l]=[0,0]}for(h=0;4>h;h++)for(l=0;4>l;l++){e[l][h][0]=255;for(var k=0;k<f;k++)for(var m=0;m<a;m++){var n=d[a*l+m+(f*h+k)*qrcode.width];
n<e[l][h][0]&&(e[l][h][0]=n);n>e[l][h][1]&&(e[l][h][1]=n)}}d=Array(4);for(a=0;4>a;a++)d[a]=Array(4);for(h=0;4>h;h++)for(l=0;4>l;l++)d[l][h]=Math.floor((e[l][h][0]+e[l][h][1])/2);return d},grayScaleToBitmap:function(d){for(var a=qrcode._em(d),f=a.length,e=Math.floor(qrcode.width/f),h=Math.floor(qrcode.height/f),l=Array(qrcode.height*qrcode.width),k=0;k<f;k++)for(var m=0;m<f;m++)for(var n=0;n<h;n++)for(var q=0;q<e;q++)l[e*m+q+(h*k+n)*qrcode.width]=d[e*m+q+(h*k+n)*qrcode.width]<a[m][k]?!0:!1;return l},
grayscale:function(){for(var d=Array(qrcode.width*qrcode.height),a=0;a<qrcode.height;a++)for(var f=0;f<qrcode.width;f++){var e=qrcode.getPixel(f,a);d[f+a*qrcode.width]=e}return d}};function _ew(d,a){return 0<=d?d>>a:(d>>a)+(2<<~a)}Array.prototype.remove=function(d,a){var f=this.slice((a||d)+1||this.length);this.length=0>d?this.length+d:d;return this.push.apply(this,f)};var _gf=3,_eh=57,_el=8,_eg=2;
qrcode._er=function(d){function a(e,a){xDiff=e.X-a.X;yDiff=e.Y-a.Y;return Math.sqrt(xDiff*xDiff+yDiff*yDiff)}var f=a(d[0],d[1]),e=a(d[1],d[2]),h=a(d[0],d[2]);e>=f&&e>=h?(e=d[0],f=d[1],h=d[2]):h>=e&&h>=f?(e=d[1],f=d[0],h=d[2]):(e=d[2],f=d[0],h=d[1]);if(0>function(e,a,d){var f=a.x;a=a.y;return(d.x-f)*(e.y-a)-(d.y-a)*(e.x-f)}(f,e,h))var l=f,f=h,h=l;d[0]=f;d[1]=e;d[2]=h};
function _cz(d,a,f){this.x=d;this.y=a;this.count=1;this._aj=f;this.__defineGetter__("_ei",function(){return this._aj});this.__defineGetter__("Count",function(){return this.count});this.__defineGetter__("X",function(){return this.x});this.__defineGetter__("Y",function(){return this.y});this._ek=function(){this.count++};this._ev=function(e,a,d){return Math.abs(a-this.y)<=e&&Math.abs(d-this.x)<=e?(e=Math.abs(e-this._aj),1>=e||1>=e/this._aj):!1}}
function _es(d){this._go=d[0];this._gu=d[1];this._gr=d[2];this.__defineGetter__("_gp",function(){return this._go});this.__defineGetter__("_gq",function(){return this._gu});this.__defineGetter__("_gs",function(){return this._gr})}
function _cc(){this.image=null;this._cv=[];this._ge=!1;this._al=[0,0,0,0,0];this._am=null;this.__defineGetter__("_da",function(){this._al[0]=0;this._al[1]=0;this._al[2]=0;this._al[3]=0;this._al[4]=0;return this._al});this._ao=function(d){for(var a=0,f=0;5>f;f++){var e=d[f];if(0==e)return!1;a+=e}if(7>a)return!1;a=Math.floor((a<<_el)/7);f=Math.floor(a/2);return Math.abs(a-(d[0]<<_el))<f&&Math.abs(a-(d[1]<<_el))<f&&Math.abs(3*a-(d[2]<<_el))<3*f&&Math.abs(a-(d[3]<<_el))<f&&Math.abs(a-(d[4]<<_el))<f};
this._an=function(d,a){return a-d[4]-d[3]-d[2]/2};this._ap=function(d,a,f,e){for(var h=this.image,l=qrcode.height,k=this._da,m=d;0<=m&&h[a+m*qrcode.width];)k[2]++,m--;if(0>m)return NaN;for(;0<=m&&!h[a+m*qrcode.width]&&k[1]<=f;)k[1]++,m--;if(0>m||k[1]>f)return NaN;for(;0<=m&&h[a+m*qrcode.width]&&k[0]<=f;)k[0]++,m--;if(k[0]>f)return NaN;for(m=d+1;m<l&&h[a+m*qrcode.width];)k[2]++,m++;if(m==l)return NaN;for(;m<l&&!h[a+m*qrcode.width]&&k[3]<f;)k[3]++,m++;if(m==l||k[3]>=f)return NaN;for(;m<l&&h[a+m*qrcode.width]&&
k[4]<f;)k[4]++,m++;return k[4]>=f||5*Math.abs(k[0]+k[1]+k[2]+k[3]+k[4]-e)>=2*e?NaN:this._ao(k)?this._an(k,m):NaN};this._ej=function(d,a,f,e){for(var h=this.image,l=qrcode.width,k=this._da,m=d;0<=m&&h[m+a*qrcode.width];)k[2]++,m--;if(0>m)return NaN;for(;0<=m&&!h[m+a*qrcode.width]&&k[1]<=f;)k[1]++,m--;if(0>m||k[1]>f)return NaN;for(;0<=m&&h[m+a*qrcode.width]&&k[0]<=f;)k[0]++,m--;if(k[0]>f)return NaN;for(m=d+1;m<l&&h[m+a*qrcode.width];)k[2]++,m++;if(m==l)return NaN;for(;m<l&&!h[m+a*qrcode.width]&&k[3]<
f;)k[3]++,m++;if(m==l||k[3]>=f)return NaN;for(;m<l&&h[m+a*qrcode.width]&&k[4]<f;)k[4]++,m++;return k[4]>=f||5*Math.abs(k[0]+k[1]+k[2]+k[3]+k[4]-e)>=e?NaN:this._ao(k)?this._an(k,m):NaN};this._cu=function(d,a,f){var e=d[0]+d[1]+d[2]+d[3]+d[4];f=this._an(d,f);a=this._ap(a,Math.floor(f),d[2],e);if(!isNaN(a)&&(f=this._ej(Math.floor(f),Math.floor(a),d[2],e),!isNaN(f))){d=e/7;for(var e=!1,h=this._cv.length,l=0;l<h;l++){var k=this._cv[l];if(k._ev(d,a,f)){k._ek();e=!0;break}}e||(f=new _cz(f,a,d),this._cv.push(f),
null!=this._am&&this._am._ep(f));return!0}return!1};this._ee=function(){var d=this._cv.length;if(3>d)throw"Couldn't find enough finder patterns";if(3<d){for(var a=0,f=0;f<d;f++)a+=this._cv[f]._ei;d=a/d;for(f=0;f<this._cv.length&&3<this._cv.length;f++)Math.abs(this._cv[f]._ei-d)>.2*d&&(this._cv.remove(f),f--)}3<this._cv.length&&this._cv.sort(function(e,a){return e.count>a.count?-1:e.count<a.count?1:0});return[this._cv[0],this._cv[1],this._cv[2]]};this._eq=function(){var d=this._cv.length;if(1>=d)return 0;
for(var a=null,f=0;f<d;f++){var e=this._cv[f];if(e.Count>=_eg)if(null==a)a=e;else return this._ge=!0,Math.floor((Math.abs(a.X-e.X)-Math.abs(a.Y-e.Y))/2)}return 0};this._cx=function(){for(var d=0,a=0,f=this._cv.length,e=0;e<f;e++){var h=this._cv[e];h.Count>=_eg&&(d++,a+=h._ei)}if(3>d)return!1;for(var d=a/f,l=0,e=0;e<f;e++)h=this._cv[e],l+=Math.abs(h._ei-d);return l<=.05*a};this._ce=function(d){this.image=d;var a=qrcode.height,f=qrcode.width,e=Math.floor(3*a/(4*_eh));e<_gf&&(e=_gf);for(var h=!1,l=Array(5),
k=e-1;k<a&&!h;k+=e){l[0]=0;l[1]=0;l[2]=0;l[3]=0;for(var m=l[4]=0,n=0;n<f;n++)if(d[n+k*qrcode.width])1==(m&1)&&m++,l[m]++;else if(0==(m&1))if(4==m)if(this._ao(l)){if(m=this._cu(l,k,n))e=2,this._ge?h=this._cx():(m=this._eq(),m>l[2]&&(k+=m-l[2]-e,n=f-1));else{do n++;while(n<f&&!d[n+k*qrcode.width]);n--}m=0;l[0]=0;l[1]=0;l[2]=0;l[3]=0;l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,m=3;else l[++m]++;else l[m]++;this._ao(l)&&(m=this._cu(l,k,f))&&(e=l[0],this._ge&&(h=_cx()))}d=this._ee();qrcode._er(d);
return new _es(d)}}function _ai(d,a,f){this.x=d;this.y=a;this.count=1;this._aj=f;this.__defineGetter__("_ei",function(){return this._aj});this.__defineGetter__("Count",function(){return this.count});this.__defineGetter__("X",function(){return Math.floor(this.x)});this.__defineGetter__("Y",function(){return Math.floor(this.y)});this._ek=function(){this.count++};this._ev=function(e,a,d){return Math.abs(a-this.y)<=e&&Math.abs(d-this.x)<=e?(e=Math.abs(e-this._aj),1>=e||1>=e/this._aj):!1}}
function _ak(d,a,f,e,h,l,k){this.image=d;this._cv=[];this.startX=a;this.startY=f;this.width=e;this.height=h;this._ef=l;this._al=[0,0,0];this._am=k;this._an=function(e,a){return a-e[2]-e[1]/2};this._ao=function(e){for(var a=this._ef,d=a/2,f=0;3>f;f++)if(Math.abs(a-e[f])>=d)return!1;return!0};this._ap=function(e,a,d,f){var h=this.image,l=qrcode.height,k=this._al;k[0]=0;k[1]=0;k[2]=0;for(var u=e;0<=u&&h[a+u*qrcode.width]&&k[1]<=d;)k[1]++,u--;if(0>u||k[1]>d)return NaN;for(;0<=u&&!h[a+u*qrcode.width]&&
k[0]<=d;)k[0]++,u--;if(k[0]>d)return NaN;for(u=e+1;u<l&&h[a+u*qrcode.width]&&k[1]<=d;)k[1]++,u++;if(u==l||k[1]>d)return NaN;for(;u<l&&!h[a+u*qrcode.width]&&k[2]<=d;)k[2]++,u++;return k[2]>d||5*Math.abs(k[0]+k[1]+k[2]-f)>=2*f?NaN:this._ao(k)?this._an(k,u):NaN};this._cu=function(e,a,d){var f=e[0]+e[1]+e[2];d=this._an(e,d);a=this._ap(a,Math.floor(d),2*e[1],f);if(!isNaN(a)){e=(e[0]+e[1]+e[2])/3;for(var f=this._cv.length,h=0;h<f;h++)if(this._cv[h]._ev(e,a,d))return new _ai(d,a,e);d=new _ai(d,a,e);this._cv.push(d);
null!=this._am&&this._am._ep(d)}return null};this.find=function(){for(var a=this.startX,h=this.height,k=a+e,l=f+(h>>1),t=[0,0,0],z=0;z<h;z++){var y=l+(0==(z&1)?z+1>>1:-(z+1>>1));t[0]=0;t[1]=0;t[2]=0;for(var u=a;u<k&&!d[u+qrcode.width*y];)u++;for(var x=0;u<k;){if(d[u+y*qrcode.width])if(1==x)t[x]++;else if(2==x){if(this._ao(t)&&(x=this._cu(t,y,u),null!=x))return x;t[0]=t[2];t[1]=1;t[2]=0;x=1}else t[++x]++;else 1==x&&x++,t[x]++;u++}if(this._ao(t)&&(x=this._cu(t,y,k),null!=x))return x}if(0!=this._cv.length)return this._cv[0];
throw"Couldn't find enough alignment patterns";}}
function QRCodeDataBlockReader(d,a,f){this._ed=0;this._cw=7;this.dataLength=0;this.blocks=d;this._en=f;9>=a?this.dataLengthMode=0:10<=a&&26>=a?this.dataLengthMode=1:27<=a&&40>=a&&(this.dataLengthMode=2);this._gd=function(e){var a=0;if(e<this._cw+1){for(var d=0,a=0;a<e;a++)d+=1<<a;d<<=this._cw-e+1;a=(this.blocks[this._ed]&d)>>this._cw-e+1;this._cw-=e;return a}if(e<this._cw+1+8){for(var f=0,a=0;a<this._cw+1;a++)f+=1<<a;a=(this.blocks[this._ed]&f)<<e-(this._cw+1);this._ed++;a+=this.blocks[this._ed]>>
8-(e-(this._cw+1));this._cw-=e%8;0>this._cw&&(this._cw=8+this._cw);return a}if(e<this._cw+1+16){for(a=d=f=0;a<this._cw+1;a++)f+=1<<a;f=(this.blocks[this._ed]&f)<<e-(this._cw+1);this._ed++;var m=this.blocks[this._ed]<<e-(this._cw+1+8);this._ed++;for(a=0;a<e-(this._cw+1+8);a++)d+=1<<a;d<<=8-(e-(this._cw+1+8));a=f+m+((this.blocks[this._ed]&d)>>8-(e-(this._cw+1+8)));this._cw-=(e-8)%8;0>this._cw&&(this._cw=8+this._cw);return a}return 0};this.NextMode=function(){return this._ed>this.blocks.length-this._en-
2?0:this._gd(4)};this.getDataLength=function(a){for(var d=0;1!=a>>d;)d++;return this._gd(qrcode._eo[this.dataLengthMode][d])};this.getRomanAndFigureString=function(a){var d=0,f="",k="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");do if(1<a){var d=this._gd(11),m=d%45,f=f+k[Math.floor(d/45)],f=f+k[m];a-=2}else 1==a&&(d=this._gd(6),f+=k[d],--a);while(0<a);return f};this.getFigureString=function(a){var d=0,f="";do 3<=a?(d=this._gd(10),100>d&&(f+="0"),10>d&&(f+="0"),a-=3):2==a?(d=this._gd(7),
10>d&&(f+="0"),a-=2):1==a&&(d=this._gd(4),--a),f+=d;while(0<a);return f};this.get8bitByteArray=function(a){var d=0,f=[];do d=this._gd(8),f.push(d),a--;while(0<a);return f};this.getKanjiString=function(a){var d=0,f="";do{var d=_gd(13),d=(d/192<<8)+d%192,k=0,k=40956>=d+33088?d+33088:d+49472,f=f+String.fromCharCode(k);a--}while(0<a);return f};this.__defineGetter__("DataByte",function(){var a=[];do{var d=this.NextMode();if(0==d)if(0<a.length)break;else throw"Empty data block";if(1!=d&&2!=d&&4!=d&&8!=
d)throw"Invalid mode: "+d+" in (block:"+this._ed+" bit:"+this._cw+")";dataLength=this.getDataLength(d);if(1>dataLength)throw"Invalid data length: "+dataLength;switch(d){case 1:for(var d=this.getFigureString(dataLength),f=Array(d.length),k=0;k<d.length;k++)f[k]=d.charCodeAt(k);a.push(f);break;case 2:d=this.getRomanAndFigureString(dataLength);f=Array(d.length);for(k=0;k<d.length;k++)f[k]=d.charCodeAt(k);a.push(f);break;case 4:d=this.get8bitByteArray(dataLength);a.push(d);break;case 8:d=this.getKanjiString(dataLength),
a.push(d)}}while(1);return a})}
var gCtx=null,gCanvas=null,imageData=null,c=0,stype=0,gUM=!1,webkit=!1,moz=!1,v=null,camhtml='  \t<object  id="iembedflash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0" width="320" height="240"> <param name="movie" value="camcanvas.swf" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" /><embed  allowScriptAccess="always"  id="embedflash" src="camcanvas.swf" quality="high" width="320" height="240" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" mayscript="true"  /></object>',imghtml=
'<div id="qrfile"><canvas id="out-canvas" width="320" height="240"></canvas><div id="imghelp">Select a file<input type="file" onchange="handleFiles(this.files)"/></div></div>',vidhtml='<video id="v" autoplay></video>';function dragenter(d){d.stopPropagation();d.preventDefault()}function dragover(d){d.stopPropagation();d.preventDefault()}
function drop(d){d.stopPropagation();d.preventDefault();d=d.dataTransfer;var a=d.files;0<a.length?handleFiles(a):d.getData("URL")&&qrcode.decode(d.getData("URL"))}function handleFiles(d){for(var a=0;a<d.length;a++){var f=new FileReader;f.onload=function(a){return function(a){gCtx.clearRect(0,0,gCanvas.width,gCanvas.height);qrcode.decode(a.target.result)}}(d[a]);f.readAsDataURL(d[a])}}
function initCanvas(d,a){gCanvas=document.getElementById("qr-canvas");gCanvas.style.width=d+"px";gCanvas.style.height=a+"px";gCanvas.width=d;gCanvas.height=a;gCtx=gCanvas.getContext("2d");gCtx.clearRect(0,0,d,a);imageData=gCtx.getImageData(0,0,320,240)}
function passLine(d){d=d.split("-");for(var a=0;320>a;a++){var f=parseInt(d[a]);r=f>>16&255;g=f>>8&255;b=f&255;imageData.data[c+0]=r;imageData.data[c+1]=g;imageData.data[c+2]=b;imageData.data[c+3]=255;c+=4}if(307200<=c){c=0;gCtx.putImageData(imageData,0,0);try{qrcode.decode()}catch(e){console.log(e),setTimeout(captureToCanvas,500)}}}
function captureToCanvas(){if(1==stype)if(gUM)try{gCtx.drawImage(v,0,0);try{qrcode.decode()}catch(d){console.log(d),setTimeout(captureToCanvas,500)}}catch(d){console.log(d),setTimeout(captureToCanvas,500)}else{flash=document.getElementById("embedflash");try{flash.ccCapture()}catch(d){console.log(d),setTimeout(captureToCanvas,1E3)}}}function htmlEntities(d){return String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}
function read(d){var a="<br>";if(0===d.indexOf("http://")||0===d.indexOf("https://"))a+="<a target='_blank' href='"+d+"'>"+d+"</a><br>";a+="<b>"+htmlEntities(d)+"</b><br><br>";document.getElementById("result").innerHTML=a}function isCanvasSupported(){var d=document.createElement("canvas");return!(!d.getContext||!d.getContext("2d"))}function success(d){webkit?v.src=window.webkitURL.createObjectURL(d):moz?(v.mozSrcObject=d,v.play()):v.src=d;gUM=!0;setTimeout(captureToCanvas,500)}
function error(d){gUM=!1}
function load(){isCanvasSupported()&&window.File&&window.FileReader?(initCanvas(800,600),qrcode.callback=read,document.getElementById("mainbody").style.display="inline"):(document.getElementById("mainbody").style.display="inline",document.getElementById("mainbody").innerHTML='<p id="mp1">QR code scanner for HTML5 capable browsers</p><br><br><p id="mp2">sorry your browser is not supported</p><br><br><p id="mp1">try <a href="http://www.mozilla.com/firefox"><img src="firefox.png"/></a> or <a href="http://chrome.google.com"><img src="chrome_logo.gif"/></a> or <a href="http://www.opera.com"><img src="Opera-logo.png"/></a></p>')}
function setwebcam(){document.getElementById("result").innerHTML="- scanning -";if(1!=stype){var d=navigator;d.getUserMedia?(document.getElementById("outdiv").innerHTML=vidhtml,v=document.getElementById("v"),d.getUserMedia({video:!0,audio:!1},success,error)):d.webkitGetUserMedia?(document.getElementById("outdiv").innerHTML=vidhtml,v=document.getElementById("v"),webkit=!0,d.webkitGetUserMedia({video:!0,audio:!1},success,error)):d.mozGetUserMedia?(document.getElementById("outdiv").innerHTML=vidhtml,
v=document.getElementById("v"),moz=!0,d.mozGetUserMedia({video:!0,audio:!1},success,error)):document.getElementById("outdiv").innerHTML=camhtml;document.getElementById("qrimg").src="qrimg2.png";document.getElementById("webcamimg").src="webcam.png";stype=1}setTimeout(captureToCanvas,500)}
function setimg(d){document.getElementById("result").innerHTML="";2!=stype&&(document.getElementById("outdiv").innerHTML=imghtml,document.getElementById("qrimg").src=d+"qrimg.png",document.getElementById("webcamimg").src=d+"webcam2.png",d=document.getElementById("qrfile"),d.addEventListener("dragenter",dragenter,!1),d.addEventListener("dragover",dragover,!1),d.addEventListener("drop",drop,!1),stype=2)};
